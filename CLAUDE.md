# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**Seseragi**: TypeScriptã«ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª
å­—å¥è§£æ â†’ æ§‹æ–‡è§£æ â†’ å‹æ¨è«– â†’ ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æŒã¤

## æ—¥å¸¸ã‚³ãƒãƒ³ãƒ‰

```bash
bun run all     # å…¨éƒ¨è¾¼ã¿ï¼ˆé–‹ç™ºæ™‚æ¨å¥¨ï¼‰
bun run build   # ãƒ“ãƒ«ãƒ‰ã®ã¿
bun run check   # å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆformat + lint + typecheck + testï¼‰
bun run vscode  # VS Codeæ‹¡å¼µãƒªãƒ“ãƒ«ãƒ‰
bun run test    # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```

## é–‹ç™ºãƒ«ãƒ¼ãƒ«

### è¨€èªä½¿ã„åˆ†ã‘
- **Claude ã¨ã®ã‚„ã‚Šã¨ã‚Š**: æ—¥æœ¬èªï¼ˆæœ€é‡è¦ï¼‰
- **ã‚³ãƒ¼ãƒ‰å†…ã‚³ãƒ¡ãƒ³ãƒˆ**: æ—¥æœ¬èª

**GitHub:**
- **Issue**: ã‚¿ã‚¤ãƒˆãƒ«è‹±èªã€å†…å®¹æ—¥æœ¬èª
- **Commit**: è‹±èªï¼ˆConventional Commitså½¢å¼ï¼‰
- **Pull Request**: è‹±èªï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»èª¬æ˜ï¼‰

### Gité‹ç”¨
```bash
# âœ… æ­£ã—ã„ãƒ•ãƒ­ãƒ¼
git checkout -b feature/new-feature  # å¿…ãšfeatureãƒ–ãƒ©ãƒ³ãƒ
# é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ
bun run all                          # å“è³ªãƒã‚§ãƒƒã‚¯
git commit -m "feat: description"    # conventional commits
git push -u origin feature/new-feature
gh pr create                         # PRä½œæˆ

# âŒ ç¦æ­¢äº‹é …
# - mainãƒ–ãƒ©ãƒ³ãƒç›´æ¥ç·¨é›†
# - mainãƒ–ãƒ©ãƒ³ãƒç›´æ¥push
```

## ğŸš¨ é »å‡ºãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦æ³•

### 1. æ–°æ¼”ç®—å­ã§å‹æ¨è«–ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `Unknown binary operator` ã‚¨ãƒ©ãƒ¼
**åŸå› **: `src/type-inference.ts`ã®å‹æ¨è«–ãƒ«ãƒ¼ãƒ«è¿½åŠ å¿˜ã‚Œ
**å¯¾å‡¦**: æ–°æ¼”ç®—å­ã®å‹æ¨è«–ãƒ«ãƒ¼ãƒ«ã‚’å¿…ãšè¿½åŠ 

### 2. VS Codeæ§‹æ–‡ãƒã‚¤ãƒ©ã‚¤ãƒˆæœªæ›´æ–°
**ç—‡çŠ¶**: æ–°æ§‹æ–‡ãŒç°è‰²ã®ã¾ã¾
**åŸå› **: æ‹¡å¼µæ©Ÿèƒ½å†ãƒ“ãƒ«ãƒ‰å¿˜ã‚Œ
**å¯¾å‡¦**: `bun run vscode` + VS Codeå®Œå…¨å†èµ·å‹•

### 3. LSPã‚µãƒ¼ãƒãƒ¼æƒ…å ±ãŒå¤ã„
**ç—‡çŠ¶**: ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãŒå¤ã„ã€å‹æƒ…å ±ãŒé–“é•ã„
**åŸå› **: `dist/`æœªæ›´æ–°
**å¯¾å‡¦**: `bun run build`ã§dist/æ›´æ–°

## è¨€èªæ©Ÿèƒ½è¿½åŠ ãƒ•ãƒ­ãƒ¼

æ–°ã—ã„æ§‹æ–‡ãƒ»æ¼”ç®—å­è¿½åŠ æ™‚ã®ç¢ºå®Ÿãªæ‰‹é †ï¼š

```bash
# 1. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º
vi tests/new-feature.test.ts         # å…ˆã«ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ

# 2. ã‚³ã‚¢å®Ÿè£…ï¼ˆå¿…ãšã“ã®é †ç•ªï¼‰
vi src/lexer.ts                      # ãƒˆãƒ¼ã‚¯ãƒ³è¿½åŠ 
vi src/parser.ts                     # ãƒ‘ãƒ¼ã‚µãƒ¼æ›´æ–°
vi src/ast.ts                        # ASTæ‹¡å¼µ
vi src/type-inference.ts             # ğŸš¨å‹æ¨è«–ãƒ«ãƒ¼ãƒ«ï¼ˆæœ€é‡è¦ï¼‰
vi src/codegen.ts                    # TypeScriptç”Ÿæˆ

# 3. VS Codeæ‹¡å¼µæ›´æ–°
vi extensions/seseragi/syntaxes/seseragi.tmLanguage.json  # æ§‹æ–‡ãƒã‚¤ãƒ©ã‚¤ãƒˆ
vi extensions/seseragi/package.json                       # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—

# 4. å…¨ä½“ãƒã‚§ãƒƒã‚¯
bun run all                          # ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãƒ»å“è³ªãƒã‚§ãƒƒã‚¯

# 5. VS Codeå‹•ä½œç¢ºèª
# VS Codeå®Œå…¨å†èµ·å‹• â†’ æ§‹æ–‡ãƒã‚¤ãƒ©ã‚¤ãƒˆç¢ºèª
```

## é–‹ç™ºãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆ

- **ä¸€æ©Ÿèƒ½ãšã¤**: è¤‡æ•°æ©Ÿèƒ½åŒæ™‚å®Ÿè£…ç¦æ­¢
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
- **å‹æ¨è«–ã¯å¿˜ã‚Œã‚„ã™ã„**: æ–°æ¼”ç®—å­ã¯å¿…ãšå‹æ¨è«–ãƒ«ãƒ¼ãƒ«è¿½åŠ 
- **å°ã•ãã‚³ãƒŸãƒƒãƒˆ**: å‹•ãçŠ¶æ…‹ã§é »ç¹ã«ã‚³ãƒŸãƒƒãƒˆ
- **æ¯å›å…¨ä½“ãƒ†ã‚¹ãƒˆ**: `bun run all`ã§ãƒã‚§ãƒƒã‚¯

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

```
ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:
src/
â”œâ”€â”€ lexer.ts          # å­—å¥è§£æ
â”œâ”€â”€ parser.ts         # æ§‹æ–‡è§£æï¼ˆæ‰‹æ›¸ãå†å¸°é™ä¸‹ï¼‰
â”œâ”€â”€ type-inference.ts # Hindley-Milnerå‹æ¨è«–ï¼ˆğŸš¨é‡è¦ï¼‰
â”œâ”€â”€ codegen.ts        # TypeScriptç”Ÿæˆ
â””â”€â”€ lsp/              # Language Server

æŠ€è¡“:
- Runtime: Bun
- Test: Bunãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼
- Quality: Biomeï¼ˆlint + formatï¼‰
- CLI: Commander.js
- LSP: vscode-languageserver
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
bun install
bun run all  # åˆå›ãƒ“ãƒ«ãƒ‰ + VS Codeæ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```